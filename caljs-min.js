/**
 * @license RequireJS text 1.0.8 Copyright (c) 2010-2011, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/requirejs for details
 */
(function(a,b){typeof exports!="undefined"?b(a,exports,require("jquery")):typeof define=="function"&&define.amd?define(["jquery","exports"],function(c,d){a.CalJS=b(a,d,c)}):a.CalJS=b(a,{},a.jQuery||a.Zepto||a.ender)})(this,function(a,b,c){var d,e,f;return function(a){function j(a,b){if(a&&a.charAt(0)==="."&&b){b=b.split("/"),b=b.slice(0,b.length-1),a=b.concat(a.split("/"));var c,d;for(c=0;d=a[c];c++)if(d===".")a.splice(c,1),c-=1;else if(d==="..")if(c!==1||a[2]!==".."&&a[0]!=="..")c>0&&(a.splice(c-1,2),c-=2);else break;a=a.join("/")}return a}function k(b,c){return function(){return i.apply(a,g.call(arguments,0).concat([b,c]))}}function l(a){return function(b){return j(b,a)}}function m(a){return function(c){b[a]=c}}function n(d){if(c.hasOwnProperty(d)){var e=c[d];delete c[d],h.apply(a,e)}return b[d]}function o(a,b){var c,d,e=a.indexOf("!");return e!==-1?(c=j(a.slice(0,e),b),a=a.slice(e+1),d=n(c),d&&d.normalize?a=d.normalize(a,l(b)):a=j(a,b)):a=j(a,b),{f:c?c+"!"+a:a,n:a,p:d}}var b={},c={},g=[].slice,h,i;if(typeof f=="function")return;h=function(d,e,f,g){var h=[],i,j,l,p,q,r;g||(g=d);if(typeof f=="function"){!e.length&&f.length&&(e=["require","exports","module"]);for(p=0;p<e.length;p++){r=o(e[p],g),l=r.f;if(l==="require")h[p]=k(d);else if(l==="exports")h[p]=b[d]={},i=!0;else if(l==="module")j=h[p]={id:d,uri:"",exports:b[d]};else if(b.hasOwnProperty(l)||c.hasOwnProperty(l))h[p]=n(l);else if(r.p)r.p.load(r.n,k(g,!0),m(l),{}),h[p]=b[l];else throw d+" missing "+l}q=f.apply(b[d],h),d&&(j&&j.exports!==a?b[d]=j.exports:i||(b[d]=q))}else d&&(b[d]=f)},d=i=function(b,c,d,e){return typeof b=="string"?n(o(b,c).f):(b.splice||(c.splice?(b=c,c=arguments[2]):b=[]),e?h(a,b,c,d):setTimeout(function(){h(a,b,c,d)},15),i)},i.config=function(){return i},e||(e=i),f=function(a,b,d){b.splice||(d=b,b=[]),f.unordered?c[a]=[a,b,d]:h(a,b,d)},f.amd={jQuery:!0}}(),f("almond",function(){}),f("Component",[],function(){var a=function(a){this.isTouch="ontouchstart"in window,this.MOUSE_DOWN_EV=this.isTouch?"touchstart":"mousedown",this.MOUSE_MOVE_EV=this.isTouch?"touchmove":"mousemove",this.MOUSE_UP_EV=this.isTouch?"touchend":"mouseup",this.options=a,this.options&&(this.options.el&&this.setElement(this.options.el),this.options.model&&this.setModel(this.options.model))};return a.prototype.setElement=function(a){a||(a="<div/>"),this.$el=c(a),this.el=this.$el[0]},a.prototype.$=function(a){return this.$el.find(a)},a.prototype.setModel=function(a){this.model=a},a.prototype.render=function(){return this},a}),f("MonthView",["Component"],function(a){var b=function(b){a.call(this,b)};return b.prototype=Object.create(a.prototype),b.prototype.render=function(){return this},b}),function(){var a=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],b=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,c=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,d=typeof location!="undefined"&&location.href,g=d&&location.protocol&&location.protocol.replace(/\:/,""),h=d&&location.hostname,i=d&&(location.port||undefined),j=[];f("text",[],function(){var f,k;return f={version:"1.0.8",strip:function(a){if(a){a=a.replace(b,"");var d=a.match(c);d&&(a=d[1])}else a="";return a},jsEscape:function(a){return a.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r")},createXhr:function(){var b,c,d;if(typeof XMLHttpRequest!="undefined")return new XMLHttpRequest;if(typeof ActiveXObject!="undefined")for(c=0;c<3;c++){d=a[c];try{b=new ActiveXObject(d)}catch(e){}if(b){a=[d];break}}return b},parseName:function(a){var b=!1,c=a.indexOf("."),d=a.substring(0,c),e=a.substring(c+1,a.length);return c=e.indexOf("!"),c!==-1&&(b=e.substring(c+1,e.length),b=b==="strip",e=e.substring(0,c)),{moduleName:d,ext:e,strip:b}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(a,b,c,d){var e=f.xdRegExp.exec(a),g,h,i;return e?(g=e[2],h=e[3],h=h.split(":"),i=h[1],h=h[0],(!g||g===b)&&(!h||h===c)&&(!i&&!h||i===d)):!0},finishLoad:function(a,b,c,d,e){c=b?f.strip(c):c,e.isBuild&&(j[a]=c),d(c)},load:function(a,b,c,e){if(e.isBuild&&!e.inlineText){c();return}var j=f.parseName(a),k=j.moduleName+"."+j.ext,l=b.toUrl(k),m=e&&e.text&&e.text.useXhr||f.useXhr;!d||m(l,g,h,i)?f.get(l,function(b){f.finishLoad(a,j.strip,b,c,e)}):b([k],function(a){f.finishLoad(j.moduleName+"."+j.ext,j.strip,a,c,e)})},write:function(a,b,c,d){if(j.hasOwnProperty(b)){var e=f.jsEscape(j[b]);c.asModule(a+"!"+b,"define(function () { return '"+e+"';});\n")}},writeFile:function(a,b,c,d,e){var g=f.parseName(b),h=g.moduleName+"."+g.ext,i=c.toUrl(g.moduleName+"."+g.ext)+".js";f.load(h,c,function(b){var c=function(a){return d(i,a)};c.asModule=function(a,b){return d.asModule(a,i,b)},f.write(a,h,c,e)},e)}},f.createXhr()?f.get=function(a,b){var c=f.createXhr();c.open("GET",a,!0),c.onreadystatechange=function(a){c.readyState===4&&b(c.responseText)},c.send(null)}:typeof process!="undefined"&&process.versions&&!!process.versions.node?(k=e.nodeRequire("fs"),f.get=function(a,b){var c=k.readFileSync(a,"utf8");c.indexOf("ï»¿")===0&&(c=c.substring(1)),b(c)}):typeof Packages!="undefined"&&(f.get=function(a,b){var c="utf-8",d=new java.io.File(a),e=java.lang.System.getProperty("line.separator"),f=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(d),c)),g,h,i="";try{g=new java.lang.StringBuffer,h=f.readLine(),h&&h.length()&&h.charAt(0)===65279&&(h=h.substring(1)),g.append(h);while((h=f.readLine())!==null)g.append(e),g.append(h);i=String(g.toString())}finally{f.close()}b(i)}),f})}(),f("text!Calendar.tpl!strip",[],function(){return'<cj:Calendar xmlns:cj="http://caljs.org/1.0">\n    <cj:NavigationBar>\n\n        <cj:NavigationBarLeft>\n            <cj:Button class="btn-prev"/>\n        </cj:NavigationBarLeft>\n\n        <cj:NavigationBarRight>\n\n        </cj:NavigationBarRight>\n    </cj:NavigationBar>\n</cj:Calendar>'}),f("text!WeekView.tpl!strip",[],function(){return"<cj:WeekView>\n\n</cj:WeekView>\n\n"}),f("WeekView",["Component","text!WeekView.tpl!strip"],function(a,b){var c=function(c){c.el=b,a.call(this,c)};return c.prototype=Object.create(a.prototype),c.prototype.render=function(){return this},c}),f("Calendar",["Component","WeekView","MonthView","text!Calendar.tpl!strip"],function(a,b,d,e){var f=function(d){function f(a){alert("mouse down handle")}d||(d={el:"<div/>"}),a.call(this,d),this.weekView=new b({model:this.model,date:this.date}),this.weekView.$el.on(this.MOUSE_DOWN_EV,{context:this},f),this.monthView=null,this.currentView=this.weekView,this.date=d&&d.date?d.date:new Date,function(b){b.$el.on("click jc\\:Button",function(a){alert("Button clicked")})}(this),this.render=function(){return this.$calendar=c(e),this.$calendar.append(this.currentView.el),this.currentView.render(),this.$el.html(this.$calendar),this}};return f.prototype=Object.create(a.prototype),f}),f("CalJS",["Calendar"],function(a){return b.Calendar=a,b}),b})