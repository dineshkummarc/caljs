(function(a,b){typeof exports!="undefined"?b(a,exports,require("jquery")):typeof define=="function"&&define.amd?define(["jquery","exports"],function(c,d){a.CalJS=b(a,d,c)}):a.CalJS=b(a,{},a.jQuery||a.Zepto||a.ender)})(this,function(a,b,c){var d,e,f;return function(a){function j(a,b){if(a&&a.charAt(0)==="."&&b){b=b.split("/"),b=b.slice(0,b.length-1),a=b.concat(a.split("/"));var c,d;for(c=0;d=a[c];c++)if(d===".")a.splice(c,1),c-=1;else if(d==="..")if(c!==1||a[2]!==".."&&a[0]!=="..")c>0&&(a.splice(c-1,2),c-=2);else break;a=a.join("/")}return a}function k(b,c){return function(){return i.apply(a,g.call(arguments,0).concat([b,c]))}}function l(a){return function(b){return j(b,a)}}function m(a){return function(c){b[a]=c}}function n(d){if(c.hasOwnProperty(d)){var e=c[d];delete c[d],h.apply(a,e)}return b[d]}function o(a,b){var c,d,e=a.indexOf("!");return e!==-1?(c=j(a.slice(0,e),b),a=a.slice(e+1),d=n(c),d&&d.normalize?a=d.normalize(a,l(b)):a=j(a,b)):a=j(a,b),{f:c?c+"!"+a:a,n:a,p:d}}var b={},c={},g=[].slice,h,i;if(typeof f=="function")return;h=function(d,e,f,g){var h=[],i,j,l,p,q,r;g||(g=d);if(typeof f=="function"){!e.length&&f.length&&(e=["require","exports","module"]);for(p=0;p<e.length;p++){r=o(e[p],g),l=r.f;if(l==="require")h[p]=k(d);else if(l==="exports")h[p]=b[d]={},i=!0;else if(l==="module")j=h[p]={id:d,uri:"",exports:b[d]};else if(b.hasOwnProperty(l)||c.hasOwnProperty(l))h[p]=n(l);else if(r.p)r.p.load(r.n,k(g,!0),m(l),{}),h[p]=b[l];else throw d+" missing "+l}q=f.apply(b[d],h),d&&(j&&j.exports!==a?b[d]=j.exports:i||(b[d]=q))}else d&&(b[d]=f)},d=i=function(b,c,d,e){return typeof b=="string"?n(o(b,c).f):(b.splice||(c.splice?(b=c,c=arguments[2]):b=[]),e?h(a,b,c,d):setTimeout(function(){h(a,b,c,d)},15),i)},i.config=function(){return i},e||(e=i),f=function(a,b,d){b.splice||(d=b,b=[]),f.unordered?c[a]=[a,b,d]:h(a,b,d)},f.amd={jQuery:!0}}(),f("almond",function(){}),function(){var a=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],b=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,c=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,d=typeof location!="undefined"&&location.href,g=d&&location.protocol&&location.protocol.replace(/\:/,""),h=d&&location.hostname,i=d&&(location.port||void 0),j=[];f("text",[],function(){var f,l;return f={version:"1.0.8",strip:function(a){if(a){var a=a.replace(b,""),d=a.match(c);d&&(a=d[1])}else a="";return a},jsEscape:function(a){return a.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r")},createXhr:function(){var b,c,d;if(typeof XMLHttpRequest!="undefined")return new XMLHttpRequest;if(typeof ActiveXObject!="undefined")for(c=0;c<3;c++){d=a[c];try{b=new ActiveXObject(d)}catch(e){}if(b){a=[d];break}}return b},parseName:function(a){var b=!1,c=a.indexOf("."),d=a.substring(0,c),a=a.substring(c+1,a.length),c=a.indexOf("!");return c!==-1&&(b=a.substring(c+1,a.length),b=b==="strip",a=a.substring(0,c)),{moduleName:d,ext:a,strip:b}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(a,b,c,d){var e=f.xdRegExp.exec(a),g;return e?(a=e[2],e=e[3],e=e.split(":"),g=e[1],e=e[0],(!a||a===b)&&(!e||e===c)&&(!g&&!e||g===d)):!0},finishLoad:function(a,b,c,d,e){c=b?f.strip(c):c,e.isBuild&&(j[a]=c),d(c)},load:function(a,b,c,e){if(e.isBuild&&!e.inlineText)c();else{var j=f.parseName(a),k=j.moduleName+"."+j.ext,l=b.toUrl(k),m=e&&e.text&&e.text.useXhr||f.useXhr;!d||m(l,g,h,i)?f.get(l,function(b){f.finishLoad(a,j.strip,b,c,e)}):b([k],function(a){f.finishLoad(j.moduleName+"."+j.ext,j.strip,a,c,e)})}},write:function(a,b,c){if(j.hasOwnProperty(b)){var d=f.jsEscape(j[b]);c.asModule(a+"!"+b,"define(function () { return '"+d+"';});\n")}},writeFile:function(a,b,c,d,e){var b=f.parseName(b),g=b.moduleName+"."+b.ext,h=c.toUrl(b.moduleName+"."+b.ext)+".js";f.load(g,c,function(){var b=function(a){return d(h,a)};b.asModule=function(a,b){return d.asModule(a,h,b)},f.write(a,g,b,e)},e)}},f.createXhr()?f.get=function(a,b){var c=f.createXhr();c.open("GET",a,!0),c.onreadystatechange=function(){c.readyState===4&&b(c.responseText)},c.send(null)}:typeof process!="undefined"&&process.versions&&process.versions.node?(l=e.nodeRequire("fs"),f.get=function(a,b){var c=l.readFileSync(a,"utf8");c.indexOf("ï»¿")===0&&(c=c.substring(1)),b(c)}):typeof Packages!="undefined"&&(f.get=function(a,b){var c=new java.io.File(a),d=java.lang.System.getProperty("line.separator"),c=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(c),"utf-8")),e,f,g="";try{e=new java.lang.StringBuffer,(f=c.readLine())&&f.length()&&f.charAt(0)===65279&&(f=f.substring(1));for(e.append(f);(f=c.readLine())!==null;)e.append(d),e.append(f);g=String(e.toString())}finally{c.close()}b(g)}),f})}(),f("text!Calendar.tpl",[],function(){return'<caljs:Calendar xmlns:caljs="http://caljs.org/1.0">\n\n</caljs:Calendar>'}),f("Calendar",["text!Calendar.tpl"],function(a){var b=function(a){a&&(this.setElement(a.el),this.setModel(a.model))};return b.prototype.setElement=function(a){return a&&(this.$el=c(a),this.el=this.$el[0]),this},b.prototype.setModel=function(a){return a&&(this.model=a),this},b.prototype.render=function(){return this.$el||this.setElement("<div/>"),this.$el.html(a),this},b}),f("CalJS",["Calendar"],function(a){return b.Calendar=a,b}),b})